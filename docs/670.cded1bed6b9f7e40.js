"use strict";(self.webpackChunkFrontend=self.webpackChunkFrontend||[]).push([[670],{3670:(z,d,l)=>{l.r(d),l.d(d,{RecommendModule:()=>L});var s=l(6814),g=l(2186),u=l(9315),m=l(8538),e=l(4946),_=l(4631),v=l(8784),h=l(9229),p=l(6223),Z=l(9364);function T(i,o){1&i&&(e.TgZ(0,"div",32),e._UZ(1,"app-loading-spinner"),e.qZA())}function x(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",35),e.NdJ("click",function(){const a=e.CHM(t).$implicit,c=e.oxw(2);return e.KtG(c.searchTitle(a.title))}),e.TgZ(1,"div",36),e._UZ(2,"img",37),e.TgZ(3,"div",38)(4,"h5",39),e._uU(5),e.qZA(),e.TgZ(6,"p",40),e._uU(7),e.qZA(),e.TgZ(8,"p",40)(9,"small"),e._uU(10),e.ALo(11,"date"),e.qZA()(),e.TgZ(12,"p",40)(13,"small"),e._uU(14),e.qZA()()()()()}if(2&i){const t=o.$implicit,n=e.oxw(2);e.xp6(1),e.s9C("title",t.description),e.xp6(1),e.Q6J("src",n.posterUrl+t.imageUrl,e.LSH)("alt",t.title),e.xp6(3),e.Oqu(t.title),e.xp6(2),e.Oqu(t.description),e.xp6(3),e.hij("Datum izdaje: ",e.xi3(11,7,t.releaseDate,"d.M.y"),""),e.xp6(4),e.hij("Kategorije: ",t.genres.join(", "),"")}}function f(i,o){if(1&i&&(e.TgZ(0,"div",33),e.YNc(1,x,15,10,"div",34),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.popularMovies)}}function C(i,o){1&i&&(e.TgZ(0,"p",41),e._uU(1,"Ni rezultatov :("),e.qZA())}function A(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",35),e.NdJ("click",function(){const a=e.CHM(t).$implicit,c=e.oxw(2);return e.KtG(c.searchTitle(a.title))}),e.TgZ(1,"div",36),e._UZ(2,"img",37),e.TgZ(3,"div",38)(4,"h5",39),e._uU(5),e.qZA(),e.TgZ(6,"p",40),e._uU(7),e.qZA(),e.TgZ(8,"p",40)(9,"small"),e._uU(10),e.ALo(11,"date"),e.qZA()(),e.TgZ(12,"p",40)(13,"small"),e._uU(14),e.qZA()()()()()}if(2&i){const t=o.$implicit,n=e.oxw(2);e.xp6(1),e.s9C("title",t.description),e.xp6(1),e.Q6J("src",n.posterUrl+t.imageUrl,e.LSH)("alt",t.title),e.xp6(3),e.Oqu(t.title),e.xp6(2),e.Oqu(t.description),e.xp6(3),e.hij("Datum izdaje: ",e.xi3(11,7,t.releaseDate,"d.M.y"),""),e.xp6(4),e.hij("Kategorije: ",t.genres.join(", "),"")}}function U(i,o){if(1&i&&(e.TgZ(0,"div",33),e.YNc(1,A,15,10,"div",34),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.nowPlayingMovies)}}function q(i,o){1&i&&(e.TgZ(0,"p",41),e._uU(1,"Ni rezultatov :("),e.qZA())}function M(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",35),e.NdJ("click",function(){const a=e.CHM(t).$implicit,c=e.oxw(2);return e.KtG(c.searchTitle(a.title))}),e.TgZ(1,"div",36),e._UZ(2,"img",37),e.TgZ(3,"div",38)(4,"h5",39),e._uU(5),e.qZA(),e.TgZ(6,"p",40),e._uU(7),e.qZA(),e.TgZ(8,"p",40)(9,"small"),e._uU(10),e.ALo(11,"date"),e.qZA()(),e.TgZ(12,"p",40)(13,"small"),e._uU(14),e.qZA()()()()()}if(2&i){const t=o.$implicit,n=e.oxw(2);e.xp6(1),e.s9C("title",t.description),e.xp6(1),e.Q6J("src",n.posterUrl+t.imageUrl,e.LSH)("alt",t.title),e.xp6(3),e.Oqu(t.title),e.xp6(2),e.Oqu(t.description),e.xp6(3),e.hij("Datum izdaje: ",e.xi3(11,7,t.releaseDate,"d.M.y"),""),e.xp6(4),e.hij("Kategorije: ",t.genres.join(", "),"")}}function P(i,o){if(1&i&&(e.TgZ(0,"div",33),e.YNc(1,M,15,10,"div",34),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.topRatedMovies)}}function S(i,o){1&i&&(e.TgZ(0,"p",41),e._uU(1,"Ni rezultatov :("),e.qZA())}function R(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",35),e.NdJ("click",function(){const a=e.CHM(t).$implicit,c=e.oxw(2);return e.KtG(c.searchTitle(a.title))}),e.TgZ(1,"div",36),e._UZ(2,"img",37),e.TgZ(3,"div",38)(4,"h5",39),e._uU(5),e.qZA(),e.TgZ(6,"p",40),e._uU(7),e.qZA(),e.TgZ(8,"p",40)(9,"small"),e._uU(10),e.ALo(11,"date"),e.qZA()(),e.TgZ(12,"p",40)(13,"small"),e._uU(14),e.qZA()()()()()}if(2&i){const t=o.$implicit,n=e.oxw(2);e.xp6(1),e.s9C("title",t.description),e.xp6(1),e.Q6J("src",n.posterUrl+t.imageUrl,e.LSH)("alt",t.title),e.xp6(3),e.Oqu(t.title),e.xp6(2),e.Oqu(t.description),e.xp6(3),e.hij("Datum izdaje: ",e.xi3(11,7,t.releaseDate,"d.M.y"),""),e.xp6(4),e.hij("Kategorije: ",t.genres.join(", "),"")}}function w(i,o){if(1&i&&(e.TgZ(0,"div",33),e.YNc(1,R,15,10,"div",34),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.upcomingMovies)}}function j(i,o){1&i&&(e.TgZ(0,"p",41),e._uU(1,"Ni rezultatov :("),e.qZA())}function y(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",35),e.NdJ("click",function(){const a=e.CHM(t).$implicit,c=e.oxw(2);return e.KtG(c.searchTitle(a.title))}),e.TgZ(1,"div",36),e._UZ(2,"img",37),e.TgZ(3,"div",38)(4,"h5",39),e._uU(5),e.qZA(),e.TgZ(6,"p",40),e._uU(7),e.qZA(),e.TgZ(8,"p",40)(9,"small"),e._uU(10),e.qZA()()()()()}if(2&i){const t=o.$implicit,n=e.oxw(2);e.xp6(1),e.s9C("title",t.description),e.xp6(1),e.Q6J("src",n.posterUrl+t.imageUrl,e.LSH)("alt",t.title),e.xp6(3),e.Oqu(t.title),e.xp6(2),e.Oqu(t.description),e.xp6(3),e.hij("Kategorije: ",t.genres.join(", "),"")}}function O(i,o){if(1&i&&(e.TgZ(0,"div",33),e.YNc(1,y,11,6,"div",34),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.trendingMovies)}}function J(i,o){1&i&&(e.TgZ(0,"p",41),e._uU(1,"Ni rezultatov :("),e.qZA())}function N(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",35),e.NdJ("click",function(){const a=e.CHM(t).$implicit,c=e.oxw(2);return e.KtG(c.searchTitle(a.title))}),e.TgZ(1,"div",36),e._UZ(2,"img",37),e.TgZ(3,"div",38)(4,"h5",39),e._uU(5),e.qZA(),e.TgZ(6,"p",40),e._uU(7),e.qZA(),e.TgZ(8,"p",40)(9,"small"),e._uU(10),e.qZA()()()()()}if(2&i){const t=o.$implicit,n=e.oxw(2);e.xp6(1),e.s9C("title",t.description),e.xp6(1),e.Q6J("src",n.posterUrl+t.imageUrl,e.LSH)("alt",t.title),e.xp6(3),e.Oqu(t.title),e.xp6(2),e.Oqu(t.description),e.xp6(3),e.hij("Kategorije: ",t.genres.join(", "),"")}}function k(i,o){if(1&i&&(e.TgZ(0,"div",33),e.YNc(1,N,11,6,"div",34),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.trendingTvShows)}}function b(i,o){1&i&&(e.TgZ(0,"p",41),e._uU(1,"Ni rezultatov :("),e.qZA())}const I=[{path:"",component:(()=>{class i{constructor(t,n,r,a,c,D){this.recommendService=t,this.authService=n,this.toastr=r,this.router=a,this.route=c,this.ngZone=D,this.displayLoadingSpinner=!0,this.allDataLoaded=!1,this.sectionToScroll=null,this.language="sl-SI",this.region="SI",this.timeWindow="day",this.posterUrl="https://image.tmdb.org/t/p/original",this.nowPlayingMovies=[],this.popularMovies=[],this.topRatedMovies=[],this.upcomingMovies=[],this.trendingMovies=[],this.trendingTvShows=[],this.errorToastShown=!1}ngOnInit(){this.route.queryParams.subscribe(t=>{this.loadSite(t.s,this.language,this.region)})}loadSite(t,n,r){this.allDataLoaded=!1,this.sectionToScroll=t,this.displayLoadingSpinner=!0,this.language=n,this.region=r;const a=[this.recommendService.nowPlaying(this.language,1,this.region),this.recommendService.popular(this.language,1,this.region),this.recommendService.topRated(this.language,1,this.region),this.recommendService.upcoming(this.language,1,this.region),this.recommendService.trendingMovie(this.timeWindow,this.language),this.recommendService.trendingTv(this.timeWindow,this.language)];(0,u.D)(a).subscribe({next:c=>{this.nowPlayingMovies=c[0],this.popularMovies=c[1],this.topRatedMovies=c[2],this.upcomingMovies=c[3],this.trendingMovies=c[4],this.trendingTvShows=c[5],this.allDataLoaded=!0,this.displayLoadingSpinner=!1},error:c=>{401===(this.displayLoadingSpinner=!1,c.status)?this.authService.unauthorizedHandler():this.errorGettingRecommendations()}})}ngAfterViewChecked(){this.allDataLoaded&&this.sectionToScroll&&this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.ngZone.run(()=>{this.navigateToSection(this.sectionToScroll),this.allDataLoaded=!1,this.sectionToScroll=null})},500)})}navigateToSection(t){const n=document.getElementById(t);n&&n.scrollIntoView({behavior:"smooth"})}onSectionDropdownChanged(t){const n=document.getElementById(t.value);n&&n.scrollIntoView({behavior:"smooth"})}updateLanguage(t){this.language=t.value,this.loadSite("",this.language,this.region)}updateRegion(t){this.region=t.value,this.loadSite("",this.language,this.region)}searchTitle(t){"sl-SI"==this.language&&this.toastr.info("Za bolj\u0161e rezultate, poskusite iskati v angle\u0161\u010dini","Iskanje v sloven\u0161\u010dini",{timeOut:m.V.info}),this.router.navigate(["/iskanje"],{queryParams:{q:t}})}errorGettingRecommendations(){this.errorToastShown||(this.toastr.error("","Napaka pri pridobivanju torrentov",{timeOut:m.V.error}),this.errorToastShown=!0)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(_.J),e.Y36(v.e),e.Y36(h._W),e.Y36(g.F0),e.Y36(g.gz),e.Y36(e.R0b))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-recommend-page"]],decls:75,vars:13,consts:[[1,"mb-2"],[1,"row"],[1,"col-1","img-cont"],["id","question-icon","src","assets/images/question-icon.png","alt","O rezultatih"],[1,"col-11","center-cont"],["href","https://www.themoviedb.org/","target","_blank"],[1,"row","control-container"],[1,"col-4","sel-cont"],["for","sectionSelect"],["name","sectionSelect","id","sectionSelect",1,"select",3,"change"],["value","popular"],["value","nowPlaying"],["value","topRated"],["value","upcoming"],["value","trendingMovie"],["value","trendingTv"],["for","langSelect"],["name","langSelect","id","langSelect",1,"select",3,"change"],["value","sl-SI","selected",""],["value","en-US"],["for","regionSelect"],["name","regionSelect","id","regionSelect",1,"select",3,"change"],["class","loading-spinner mb-4",4,"ngIf"],[1,"container","mt-4"],["id","popular",1,"sectionTitle"],["class","row mb-5",4,"ngIf"],["class","text-center no-results",4,"ngIf"],["id","nowPlaying",1,"sectionTitle"],["id","topRated",1,"sectionTitle"],["id","upcoming",1,"sectionTitle"],["id","trendingMovie",1,"sectionTitle"],["id","trendingTv",1,"sectionTitle"],[1,"loading-spinner","mb-4"],[1,"row","mb-5"],["class","col-md-4 mb-4",3,"click",4,"ngFor","ngForOf"],[1,"col-md-4","mb-4",3,"click"],[1,"card",3,"title"],[1,"card-img-top",3,"src","alt"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"text-center","no-results"]],template:function(t,n){1&t&&(e.TgZ(0,"h2"),e._uU(1,"Razi\u0161\u010di"),e.qZA(),e.TgZ(2,"div",0)(3,"div",1)(4,"div",2),e._UZ(5,"img",3),e.qZA(),e.TgZ(6,"div",4)(7,"p"),e._uU(8,"Vir podatkov: "),e.TgZ(9,"a",5),e._uU(10,"TMDB"),e.qZA()()()()(),e.TgZ(11,"div",6)(12,"div",7)(13,"label",8),e._uU(14,"Prika\u017ei"),e.qZA(),e.TgZ(15,"select",9),e.NdJ("change",function(a){return n.onSectionDropdownChanged(a.target)}),e.TgZ(16,"option",10),e._uU(17,"Popularno"),e.qZA(),e.TgZ(18,"option",11),e._uU(19,"Zdaj v kinu"),e.qZA(),e.TgZ(20,"option",12),e._uU(21,"Najbolj ocenjeno"),e.qZA(),e.TgZ(22,"option",13),e._uU(23,"Kmalu v kinu"),e.qZA(),e.TgZ(24,"option",14),e._uU(25,"Trending filmi"),e.qZA(),e.TgZ(26,"option",15),e._uU(27,"Trending TV"),e.qZA()()(),e.TgZ(28,"div",7)(29,"label",16),e._uU(30,"Jezik"),e.qZA(),e.TgZ(31,"select",17),e.NdJ("change",function(a){return n.updateLanguage(a.target)}),e.TgZ(32,"option",18),e._uU(33,"Sloven\u0161\u010dina"),e.qZA(),e.TgZ(34,"option",19),e._uU(35,"Angle\u0161\u010dina"),e.qZA()()(),e.TgZ(36,"div",7)(37,"label",20),e._uU(38,"Regija"),e.qZA(),e.TgZ(39,"select",21),e.NdJ("change",function(a){return n.updateRegion(a.target)}),e.TgZ(40,"option",18),e._uU(41,"Slovenija"),e.qZA(),e.TgZ(42,"option",19),e._uU(43,"Z.D.A."),e.qZA()()()(),e.YNc(44,T,2,0,"div",22),e.TgZ(45,"div",23)(46,"h3",24),e._uU(47,"Popularno"),e.qZA(),e.YNc(48,f,2,1,"div",25),e.YNc(49,C,2,0,"p",26),e.qZA(),e.TgZ(50,"div",23)(51,"h3",27),e._uU(52,"Zdaj v kinu"),e.qZA(),e.YNc(53,U,2,1,"div",25),e.YNc(54,q,2,0,"p",26),e.qZA(),e.TgZ(55,"div",23)(56,"h3",28),e._uU(57,"Najbolj ocenjeno"),e.qZA(),e.YNc(58,P,2,1,"div",25),e.YNc(59,S,2,0,"p",26),e.qZA(),e.TgZ(60,"div",23)(61,"h3",29),e._uU(62,"Kmalu v kinu"),e.qZA(),e.YNc(63,w,2,1,"div",25),e.YNc(64,j,2,0,"p",26),e.qZA(),e.TgZ(65,"div",23)(66,"h3",30),e._uU(67,"Trending filmi"),e.qZA(),e.YNc(68,O,2,1,"div",25),e.YNc(69,J,2,0,"p",26),e.qZA(),e.TgZ(70,"div",23)(71,"h3",31),e._uU(72,"Trending TV"),e.qZA(),e.YNc(73,k,2,1,"div",25),e.YNc(74,b,2,0,"p",26),e.qZA()),2&t&&(e.xp6(44),e.Q6J("ngIf",n.displayLoadingSpinner),e.xp6(4),e.Q6J("ngIf",n.popularMovies),e.xp6(1),e.Q6J("ngIf",0===n.popularMovies.length),e.xp6(4),e.Q6J("ngIf",n.nowPlayingMovies),e.xp6(1),e.Q6J("ngIf",0===n.nowPlayingMovies.length),e.xp6(4),e.Q6J("ngIf",n.topRatedMovies),e.xp6(1),e.Q6J("ngIf",0===n.topRatedMovies.length),e.xp6(4),e.Q6J("ngIf",n.upcomingMovies),e.xp6(1),e.Q6J("ngIf",0===n.upcomingMovies.length),e.xp6(4),e.Q6J("ngIf",n.trendingMovies),e.xp6(1),e.Q6J("ngIf",0===n.trendingMovies.length),e.xp6(4),e.Q6J("ngIf",n.trendingTvShows),e.xp6(1),e.Q6J("ngIf",0===n.trendingTvShows.length))},dependencies:[s.sg,s.O5,p.YN,p.Kr,Z.g,s.uU],styles:[".loading-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100%;margin:50px 0}h2[_ngcontent-%COMP%]{margin-top:1em;text-align:center}.sectionTitle[_ngcontent-%COMP%]{text-align:center;font-weight:700;margin-top:2em}.card[_ngcontent-%COMP%]{background-color:var(--darkgray);color:#fff!important;padding:6px;display:flex;flex-direction:column;height:100%;transition:.3s}.card[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#8a8a8a;transform:scale(1.05)}.card-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between}label[_ngcontent-%COMP%]{display:block;text-align:center;margin-bottom:3px}.sel-cont[_ngcontent-%COMP%]{display:flex;justify-content:center;align-self:center;flex-direction:column}select[_ngcontent-%COMP%]{margin:auto;width:200px}.center-cont[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;padding:15px 15px 15px 0;margin-left:0}.center-cont[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;padding:0;text-align:left}.img-cont[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}#question-icon[_ngcontent-%COMP%]{width:60%;aspect-ratio:1/1}.no-results[_ngcontent-%COMP%]{font-size:1.5em}.row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.col-md-4[_ngcontent-%COMP%]{display:flex;flex:1 0 33%;padding:15px}.card-img-top[_ngcontent-%COMP%]{width:100%;height:auto}.card-text[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:5;line-clamp:5;-webkit-box-orient:vertical}"]}),i})()}];let Y=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[g.Bz.forChild(I),g.Bz]}),i})();var Q=l(8524);let L=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[s.ez,Y,Q.m]}),i})()}}]);