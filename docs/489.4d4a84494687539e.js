"use strict";(self.webpackChunkpotegnime_angular=self.webpackChunkpotegnime_angular||[]).push([[489],{5489:(X,h,l)=>{l.r(h),l.d(h,{SearchModule:()=>H});var d=l(6814),b=l(8524),g=l(2186),v=l(2856),i=l(8538),t=l(4946),_=l(1258),m=l(9229),f=l(8784),x=l(5619);let C=(()=>{class r{constructor(){this.sortSource=new x.X("default"),this.currentSort=this.sortSource.asObservable()}changeSort(e){this.sortSource.next(e)}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var P=l(9364),p=l(6223),O=l(4631);function y(r,s){if(1&r&&(t.TgZ(0,"option",29),t._uU(1),t.qZA()),2&r){const e=s.$implicit,n=t.oxw();t.Q6J("value",e),t.xp6(1),t.Oqu(n.translate(e))}}function M(r,s){if(1&r&&(t.TgZ(0,"option",29),t._uU(1),t.qZA()),2&r){const e=s.$implicit,n=t.oxw(2);t.Q6J("value",e),t.xp6(1),t.Oqu(n.translate(e))}}function k(r,s){if(1&r){const e=t.EpF();t.TgZ(0,"select",30),t.NdJ("change",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onCategoryChange())}),t.YNc(1,M,2,2,"option",11),t.qZA()}if(2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.categories)}}let w=(()=>{class r{constructor(e,n,o,a,c,u,E){this.formBuilder=e,this.toastr=n,this.route=o,this.searchService=a,this.authService=c,this.recommendService=u,this.sortService=E,this.torrentCategories={},this.categories=[],this.providers=[],this.selectedProvider="All",this.selectedCategory="All",this.sort="default"}ngOnInit(){this.sortSubscription=this.sortService.currentSort.subscribe(e=>{this.sort=e}),this.searchService.getCategories().subscribe({next:e=>{e.All=["All"],this.torrentCategories=e,this.providers=Object.keys(e),this.providers.sort((n,o)=>"All"===n?-1:"All"===o?1:0),this.onProviderChange(this.selectedProvider)},error:e=>{switch(e.status){case 401:this.authService.unauthorizedHandler();break;case 503:this.toastr.error("","Storitev trenutno ni na voljo",{timeOut:i.V.error});break;default:this.toastr.error("","Napaka na stre\u017eniku",{timeOut:i.V.error})}}}),this.searchForm=this.formBuilder.group({query:[this.route.snapshot.queryParamMap.get("q")||"",[p.kI.required,this.notOnlyWhitespaceValidator]],category:["All"],source:["All"],sort:["default"]}),this.route.queryParamMap.subscribe(e=>{const n=e.get("q")||"";this.searchForm.patchValue({query:n})})}ngOnDestroy(){this.sortSubscription.unsubscribe()}notOnlyWhitespaceValidator(e){return 0!==(e.value||"").trim().length?null:{whitespace:!0}}onSearch(){this.searchForm.valid?this.searchService.onSearchComponent(this.searchForm.value.query,"All"===this.selectedCategory?null:this.selectedCategory,"All"===this.selectedProvider?null:this.selectedProvider,null,"default"==this.searchForm.value.sort?null:this.searchForm.value.sort):this.toastr.warning("","Vnesite izraz za iskanje",{timeOut:i.V.warning})}searchRandomTitle(){this.recommendService.getRandomRecommendation().subscribe({next:e=>{this.searchForm.patchValue({query:e.name}),this.onSearch()},error:e=>{401===e.status?this.authService.unauthorizedHandler():this.toastr.error("","Napaka pri pridobivanju priporo\u010dila",{timeOut:i.V.error})}})}onProviderChange(e){this.selectedProvider=e,this.categories=this.torrentCategories[e],this.selectedCategory="All",this.searchForm.patchValue({source:this.selectedProvider,category:this.selectedCategory}),this.onSearch()}onCategoryChange(){this.selectedCategory=this.searchForm.value.category,this.onSearch()}onSortChange(e){this.sort=e,this.onSearch()}translate(e){switch(e){case"All":return"Vsi";case"Movies":return"Filmi";case"Audio":return"Avdio";case"Video":return"Video";case"Apps":case"App":case"Applications":return"Aplikacije";case"Games":return"Igre";case"Music":return"Glasba";case"Books":return"Knjige";case"Documentaries":return"Dokumentarci";case"XXX":case"Adult":case"Porn":return"XXX";case"Other":return"Ostalo";default:return e}}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(p.qu),t.Y36(m._W),t.Y36(g.gz),t.Y36(_.o),t.Y36(f.e),t.Y36(O.J),t.Y36(C))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-search-bar-search"]],decls:47,vars:5,consts:[[1,"search-bar"],[3,"formGroup","ngSubmit"],[1,"input-top-row"],["type","text","id","search-input","formControlName","query","placeholder","Iskanje..."],["type","submit","id","search-button",1,"search-button"],["src","assets/images/search-icon.png","alt","Iskanje","width","20px","height","20px",1,"search-img"],[1,"options-search"],["type","button","name","predlagaj","id","predlagaj-button","value","Preseneti me",1,"options-button",3,"click"],[1,"dropdown-container"],["for","source"],["formControlName","source","id","source","name","source",1,"dropdown",3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],["for","category"],["class","dropdown","formControlName","category","id","category","name","category",3,"change",4,"ngIf"],["for","sort"],["formControlName","sort","id","sort","name","sort",1,"dropdown",3,"ngModel","ngModelChange","change"],["value","default"],["value","name-asc"],["value","name-desc"],["value","uploader-asc"],["value","uploader-desc"],["value","date-asc"],["value","date-desc"],["value","seed-asc"],["value","seed-desc"],["value","peer-asc"],["value","peer-desc"],["value","size-asc"],["value","size-desc"],[3,"value"],["formControlName","category","id","category","name","category",1,"dropdown",3,"change"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"form",1),t.NdJ("ngSubmit",function(){return n.onSearch()}),t.TgZ(2,"div",2),t._UZ(3,"input",3),t.TgZ(4,"button",4),t._UZ(5,"img",5),t.qZA()(),t.TgZ(6,"div",6)(7,"input",7),t.NdJ("click",function(){return n.searchRandomTitle()}),t.qZA(),t.TgZ(8,"div",8)(9,"label",9),t._uU(10,"Vir"),t.qZA(),t.TgZ(11,"select",10),t.NdJ("ngModelChange",function(a){return n.selectedProvider=a})("change",function(){return n.onProviderChange(n.selectedProvider)}),t.YNc(12,y,2,2,"option",11),t.qZA()(),t.TgZ(13,"div",8)(14,"label",12),t._uU(15,"Kategorija"),t.qZA(),t.YNc(16,k,2,1,"select",13),t.qZA(),t.TgZ(17,"div",8)(18,"label",14),t._uU(19,"Sortiranje"),t.qZA(),t.TgZ(20,"select",15),t.NdJ("ngModelChange",function(a){return n.sort=a})("change",function(){return n.onSortChange(n.sort)}),t.TgZ(21,"option",16),t._uU(22,"Privzeto"),t.qZA(),t.TgZ(23,"option",17),t._uU(24,"Imenu \u2191"),t.qZA(),t.TgZ(25,"option",18),t._uU(26,"Imenu \u2193"),t.qZA(),t.TgZ(27,"option",19),t._uU(28,"Uploader \u2191"),t.qZA(),t.TgZ(29,"option",20),t._uU(30,"Uploader \u2193"),t.qZA(),t.TgZ(31,"option",21),t._uU(32,"Datumu \u2191"),t.qZA(),t.TgZ(33,"option",22),t._uU(34,"Datumu \u2193"),t.qZA(),t.TgZ(35,"option",23),t._uU(36,"Seed \u2191"),t.qZA(),t.TgZ(37,"option",24),t._uU(38,"Seed \u2193"),t.qZA(),t.TgZ(39,"option",25),t._uU(40,"Peers \u2191"),t.qZA(),t.TgZ(41,"option",26),t._uU(42,"Peers \u2193"),t.qZA(),t.TgZ(43,"option",27),t._uU(44,"Velikosti \u2191"),t.qZA(),t.TgZ(45,"option",28),t._uU(46,"Velikosti \u2193"),t.qZA()()()()()()),2&e&&(t.xp6(1),t.Q6J("formGroup",n.searchForm),t.xp6(10),t.Q6J("ngModel",n.selectedProvider),t.xp6(1),t.Q6J("ngForOf",n.providers),t.xp6(4),t.Q6J("ngIf",n.categories&&n.categories.length>0),t.xp6(4),t.Q6J("ngModel",n.sort))},dependencies:[d.sg,d.O5,p._Y,p.YN,p.Kr,p.Fj,p.EJ,p.JJ,p.JL,p.sg,p.u],styles:[".search-bar[_ngcontent-%COMP%]{width:100%;background-color:var(--page-component);padding:18px;margin:6px 0;border-radius:var(--border-radius)}.input-top-row[_ngcontent-%COMP%]{display:flex;margin-bottom:12px}#search-input[_ngcontent-%COMP%]{width:100%;background-color:var(--button-background);color:var(--white);border:none;border-radius:4px 0 0 4px;padding:0 10px;height:45px}.search-button[_ngcontent-%COMP%]{border:none;background:linear-gradient(var(--dark-purple),var(--light-purple));width:45px;height:45px;border-radius:0 4px 4px 0}.options-search[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-around;flex-direction:row;width:100%;height:100%}.options-button[_ngcontent-%COMP%]{background-color:var(--button-background);align-self:last baseline;color:#fff;padding:6px 10px;border:none;border-radius:var(--border-radius)}.options-button[_ngcontent-%COMP%]:hover{background-color:var(--button-background-hover)}#predlagaj-button[_ngcontent-%COMP%]{width:200px;height:100%;align-self:last baseline;background:linear-gradient(var(--dark-purple),var(--light-purple))}#predlagaj-button[_ngcontent-%COMP%]:hover{background:linear-gradient(#460370,var(--light-purple))}.dropdown-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}.dropdown-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:small}.dropdown-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:200px}.dropdown[_ngcontent-%COMP%]{background-color:var(--button-background);color:#fff;text-align:center;padding:6px 10px;border:none;border-radius:var(--border-radius)}.dropdown[_ngcontent-%COMP%]:hover{background-color:var(--button-background-hover);cursor:pointer}"]}),r})();function Z(r,s){1&r&&(t.TgZ(0,"div",7)(1,"p"),t._uU(2,"Iskanje omogo\u010da "),t.TgZ(3,"a",8),t._uU(4,"torrent-search-api"),t.qZA()(),t.TgZ(5,"p"),t._uU(6," Rezultati prihajajo iz treh razli\u010dnih virov: "),t.TgZ(7,"span",9)(8,"a",10),t._uU(9,"The Pirate Bay"),t.qZA()(),t._uU(10,", "),t.TgZ(11,"span",11)(12,"a",12),t._uU(13,"YTS"),t.qZA()(),t._uU(14," in "),t.TgZ(15,"span",13)(16,"a",14),t._uU(17,"TorrentProject"),t.qZA()()(),t.TgZ(18,"p"),t._uU(19," Ker so rezultati iz angle\u0161kih strani, je priporo\u010dljivo, da v iskalno polje vpi\u0161ete angle\u0161ki naslov \u017eelenega torrenta. "),t.qZA(),t.TgZ(20,"p")(21,"span",15),t._uU(22,"Bodite previdni!"),t.qZA(),t._uU(23," Torrenti lahko vsebujejo viruse! Priporo\u010damo, da imate name\u0161\u010den zanesljiv antivirusni program in da preverite kon\u010dnico datoteke pred prenosom (.exe datoteke so pogosto zlonamerne!) "),t.qZA(),t.TgZ(24,"p"),t._uU(25,"Uporabne povezave:"),t.qZA(),t.TgZ(26,"ul")(27,"li")(28,"span")(29,"a",16),t._uU(30,"opensubtitles.com"),t.qZA(),t._uU(31," - prenos podnapisev "),t.qZA()(),t.TgZ(32,"li")(33,"span")(34,"a",17),t._uU(35,"opensubtitles.org"),t.qZA(),t._uU(36," - prenos podnapisev "),t.qZA()(),t.TgZ(37,"li")(38,"span")(39,"a",18),t._uU(40,"TVsubtitles.net"),t.qZA(),t._uU(41," - prenos podnapisev "),t.qZA()(),t.TgZ(42,"li")(43,"span")(44,"a",19),t._uU(45,"TVsubs.net"),t.qZA(),t._uU(46," - prenos podnapisev "),t.qZA()(),t.TgZ(47,"li")(48,"span")(49,"a",20),t._uU(50,"Titlovi.com"),t.qZA(),t._uU(51," - prenos podnapisev v sloven\u0161\u010dini "),t.qZA()()()())}let S=(()=>{class r{constructor(){this.expanded=!1}toggleExpanded(){this.expanded=!this.expanded}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-about-results"]],decls:9,vars:1,consts:[[1,"mb-2"],[1,"row","trigger-cont",3,"click"],[1,"col-1","img-cont"],["id","question-icon","src","assets/images/question-icon.png","alt","O rezultatih"],[1,"col-11","center-cont"],[1,"row"],["class","col-12 mt-2",4,"ngIf"],[1,"col-12","mt-2"],["href","https://www.npmjs.com/package/torrent-search-api?activeTab=readme","target","_blank"],[1,"tpb"],["href","https://thepiratebay.org/","target","_blank"],[1,"yts"],["href","https://yts.mx/","target","_blank"],[1,"torrentProject"],["href","https://torrentproject.cc/","target","_blank"],[1,"warning","d-block","m-0","p-0"],["href","https://www.opensubtitles.com/en/home","target","_blank"],["href","https://www.opensubtitles.org/en/search/subs","target","_blank"],["href","https://www.tvsubtitles.net/","target","_blank"],["href","https://www.tvsubs.net/","target","_blank"],["href","https://www.titlovi.com/","target","_blank"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1),t.NdJ("click",function(){return n.toggleExpanded()}),t.TgZ(2,"div",2),t._UZ(3,"img",3),t.qZA(),t.TgZ(4,"div",4)(5,"p"),t._uU(6,"O rezultatih"),t.qZA()()(),t.TgZ(7,"div",5),t.YNc(8,Z,52,0,"div",6),t.qZA()()),2&e&&(t.xp6(8),t.Q6J("ngIf",n.expanded))},dependencies:[d.O5],styles:[".center-cont[_ngcontent-%COMP%]{padding:15px}.trigger-cont[_ngcontent-%COMP%]:hover{background-color:var(--page-component);border-radius:var(--border-radius);cursor:pointer}.img-cont[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}#question-icon[_ngcontent-%COMP%]{width:60%;aspect-ratio:1/1}.center-cont[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;padding-left:0;margin-left:0}.center-cont[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;padding:0;text-align:left}.warning[_ngcontent-%COMP%]{color:var(--red-primary);font-size:1.2rem}a[_ngcontent-%COMP%]{text-decoration:underline}.tpb[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .yts[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .torrentProject[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--white);text-decoration-color:var(--white)}.tpb[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .yts[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .torrentProject[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--blue);text-decoration-color:var(--blue)}"]}),r})(),T=(()=>{class r{transform(e){switch(e){case"thePirateBay":return"ThePirateBay";case"yts":return"YTS";case"torrentProject":return"TorrentProject"}return e}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275pipe=t.Yjl({name:"torrentSource",type:r,pure:!0}),r})();function A(r,s){1&r&&t._UZ(0,"app-about-results",0)}function j(r,s){if(1&r&&t._UZ(0,"img",23),2&r){const e=t.oxw(2).$implicit;t.MGl("alt","",e.title," Image")}}function U(r,s){if(1&r&&t._UZ(0,"img",24),2&r){const e=t.oxw(2).$implicit;t.MGl("alt","",e.title," Image")}}function R(r,s){if(1&r&&t._UZ(0,"img",25),2&r){const e=t.oxw(2).$implicit;t.MGl("alt","",e.title," Image")}}function q(r,s){if(1&r&&t._UZ(0,"img",26),2&r){const e=t.oxw(2).$implicit;t.MGl("alt","",e.title," Image")}}function z(r,s){if(1&r&&t._UZ(0,"img",27),2&r){const e=t.oxw(2).$implicit;t.MGl("alt","",e.title," Image")}}const I=function(r,s,e,n){return{native:r,tpb:s,yts:e,torrentproject:n}};function N(r,s){if(1&r){const e=t.EpF();t.TgZ(0,"tr",13),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,a=t.oxw(2);return t.KtG(a.toggleRow(o))}),t.TgZ(1,"td")(2,"div",14)(3,"div"),t.YNc(4,j,1,1,"img",15),t.YNc(5,U,1,1,"img",16),t.YNc(6,R,1,1,"img",17),t.YNc(7,q,1,1,"img",18),t.YNc(8,z,1,1,"img",19),t.qZA(),t.TgZ(9,"div",20)(10,"h4"),t._uU(11),t.qZA()()()(),t.TgZ(12,"td",21)(13,"a",22),t._uU(14),t.ALo(15,"torrentSource"),t.qZA()(),t.TgZ(16,"td"),t._uU(17),t.qZA(),t.TgZ(18,"td"),t._uU(19),t.qZA(),t.TgZ(20,"td"),t._uU(21),t.qZA()()}if(2&r){const e=t.oxw().$implicit,n=t.oxw(2);t.s9C("title",e.title),t.xp6(4),t.Q6J("ngIf","native"===e.source.toLowerCase()),t.xp6(1),t.Q6J("ngIf","none"===e.source.toLowerCase()),t.xp6(1),t.Q6J("ngIf","thepiratebay"===e.source.toLowerCase()),t.xp6(1),t.Q6J("ngIf","yts"===e.source.toLowerCase()),t.xp6(1),t.Q6J("ngIf","torrentproject"===e.source.toLowerCase()),t.xp6(3),t.Oqu(e.title),t.xp6(1),t.Q6J("ngClass",t.l5B(15,I,"native"===e.source.toLowerCase(),"thepiratebay"===e.source.toLowerCase(),"yts"===e.source.toLowerCase(),"torrentproject"===e.source.toLowerCase())),t.xp6(1),t.s9C("href",n.getUploaderUrl(e),t.LSH),t.xp6(1),t.hij(" ",t.lcZ(15,13,e.source)," "),t.xp6(3),t.Oqu(e.size),t.xp6(2),t.Oqu(n.displaySePe(e.seeds)),t.xp6(2),t.Oqu(n.displaySePe(e.peers))}}function J(r,s){if(1&r&&t._UZ(0,"img",45),2&r){const e=t.oxw(2).$implicit;t.MGl("alt","",e.title," Image")}}function V(r,s){if(1&r&&t._UZ(0,"img",46),2&r){const e=t.oxw(2).$implicit;t.MGl("alt","",e.title," Image")}}function Y(r,s){if(1&r&&t._UZ(0,"img",47),2&r){const e=t.oxw(2).$implicit;t.MGl("alt","",e.title," Image")}}function B(r,s){if(1&r){const e=t.EpF();t.TgZ(0,"tr",13),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,a=t.oxw(2);return t.KtG(a.toggleRow(o))}),t.TgZ(1,"td",28)(2,"div",29)(3,"div",30)(4,"div",31),t.YNc(5,J,1,1,"img",32),t.YNc(6,V,1,1,"img",33),t.YNc(7,Y,1,1,"img",34),t.TgZ(8,"div",35)(9,"h4"),t._uU(10),t.qZA(),t.TgZ(11,"div",30)(12,"div",36)(13,"div",37)(14,"p"),t._uU(15,"Velikost"),t.qZA(),t.TgZ(16,"p"),t._uU(17),t.qZA()(),t.TgZ(18,"div",37)(19,"p"),t._uU(20,"Seeds"),t.qZA(),t.TgZ(21,"p"),t._uU(22),t.qZA()(),t.TgZ(23,"div",37)(24,"p"),t._uU(25,"Peers"),t.qZA(),t.TgZ(26,"p"),t._uU(27),t.qZA()(),t.TgZ(28,"div",37)(29,"p"),t._uU(30,"Nalo\u017eeno"),t.qZA(),t.TgZ(31,"p"),t._uU(32),t.qZA()()(),t.TgZ(33,"div",38)(34,"button",39,40),t.NdJ("click",function(o){t.CHM(e);const a=t.MAs(35),c=t.oxw().$implicit,u=t.oxw(2);return t.KtG(u.copy(o,a,c.url))}),t._UZ(36,"img",41),t.TgZ(37,"p"),t._uU(38),t.qZA()(),t.TgZ(39,"button",42,43),t.NdJ("click",function(o){t.CHM(e);const a=t.oxw().$implicit,c=t.oxw(2);return t.KtG(c.download(o,a.url))}),t._UZ(41,"img",44),t.TgZ(42,"p"),t._uU(43),t.qZA()()()()()()()()()()}if(2&r){const e=t.oxw().$implicit,n=t.oxw(2);t.s9C("title",e.title),t.xp6(5),t.Q6J("ngIf","thepiratebay"===e.source.toLowerCase()),t.xp6(1),t.Q6J("ngIf","yts"===e.source.toLowerCase()),t.xp6(1),t.Q6J("ngIf","torrentproject"===e.source.toLowerCase()),t.xp6(3),t.Oqu(e.title),t.xp6(7),t.Oqu(e.size),t.xp6(5),t.Oqu(n.displaySePe(e.seeds)),t.xp6(5),t.Oqu(n.displaySePe(e.peers)),t.xp6(5),t.Oqu(n.displayTime(e.time)),t.xp6(6),t.Oqu(n.copyText),t.xp6(5),t.Oqu(n.downloadText)}}function Q(r,s){if(1&r&&(t.ynx(0),t.YNc(1,N,22,20,"tr",12),t.YNc(2,B,44,11,"tr",12),t.BQk()),2&r){const e=s.$implicit;t.xp6(1),t.Q6J("ngIf",!e.expanded),t.xp6(1),t.Q6J("ngIf",e.expanded)}}function F(r,s){if(1&r){const e=t.EpF();t.TgZ(0,"div",5)(1,"table",6)(2,"thead")(3,"tr")(4,"th",7),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.sortRowColumnClick("name"))}),t._uU(5,"Datoteka"),t.qZA(),t.TgZ(6,"th",8),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.sortRowColumnClick("uploader"))}),t._uU(7,"Uploader"),t.qZA(),t.TgZ(8,"th",8),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.sortRowColumnClick("size"))}),t._uU(9,"Velikost"),t.qZA(),t.TgZ(10,"th",9),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.sortRowColumnClick("se"))}),t._uU(11,"SE"),t.qZA(),t.TgZ(12,"th",10),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.sortRowColumnClick("pe"))}),t._uU(13,"PE"),t.qZA()()(),t.TgZ(14,"tbody"),t.YNc(15,Q,3,2,"ng-container",11),t.qZA()()()}if(2&r){const e=t.oxw();t.xp6(15),t.Q6J("ngForOf",e.searchResults)}}function G(r,s){1&r&&(t.TgZ(0,"div",48),t._UZ(1,"app-loading-spinner"),t.qZA())}function L(r,s){1&r&&(t.TgZ(0,"div",49)(1,"h3"),t._uU(2," Ni rezultatov :( "),t.qZA()())}function D(r,s){1&r&&(t.TgZ(0,"div",49)(1,"h3"),t._uU(2," Vnesite izraz za iskanje "),t.qZA()())}const K=[{path:"",component:(()=>{class r{constructor(e,n,o,a,c,u){this.route=e,this.searchService=n,this.toastr=o,this.authService=a,this.sortService=c,this.datePipe=u,this.searchQuery="",this.category=null,this.source=null,this.sort="default",this.searchResults=[],this.displayLoadingSpinner=!0,this.noResults=!1,this.missingQuery=!1,this.copyText="Magnet link",this.copyHighlightText="Kopirano",this.downloadText="Potegni ga"}ngOnInit(){this.noResults=!1,this.route.queryParams.subscribe(e=>{this.searchQuery=e.q,this.category=e.category,this.source=e.source,this.sort=e.sort??"default",this.searchQuery?(this.searchResults=[],this.missingQuery=!1,this.fetchSearchResults({query:this.searchQuery,category:this.category||null,source:this.source||null,limit:null})):(this.missingQuery=!0,this.displayLoadingSpinner=!1,this.noResults=!1)})}fetchSearchResults(e){this.displayLoadingSpinner=!0,this.noResults=!1,this.searchService.searchTorrents(e).subscribe({next:n=>{let o=[];for(const a in n)if(n.hasOwnProperty(a)){const c=n[a];for(const u of c)o.push({source:a,title:u.title,time:u.time,size:u.size,url:u.url,seeds:u.seeds,peers:u.peers,imdb:u.imdb})}this.displayLoadingSpinner=!1,this.noResults=!1,this.searchResults=o,this.sortResults(this.sort)},error:n=>{switch(n.status){case 400:if(n.error.message&&1==n.error.errorCode){this.toastr.error("",`Napaka pri iskanju torrentov: ${n.error.message}`,{timeOut:i.V.error});break}this.toastr.error("","Napaka pri iskanju torrentov",{timeOut:i.V.error});break;case 401:this.authService.unauthorizedHandler();break;case 404:this.handle404();break;case 503:this.toastr.error("","Storitev trenutno ni na voljo",{timeOut:i.V.error});break;default:this.toastr.error("","Napaka pri iskanju torrentov",{timeOut:i.V.error})}this.displayLoadingSpinner=!1,this.noResults=!0}})}handle404(){this.displayLoadingSpinner=!1,this.noResults=!0,this.searchResults=[]}sortResults(e){switch(e){case"default":default:break;case"name-asc":try{this.searchResults.sort((n,o)=>n.title.localeCompare(o.title))}catch{this.toastr.info("","Sortiranje po imenu nara\u0161\u010dajo\u010de ni uspelo",{timeOut:i.V.info})}break;case"name-desc":try{this.searchResults.sort((n,o)=>o.title.localeCompare(n.title))}catch{this.toastr.info("","Sortiranje po imenu padajo\u010de ni uspelo",{timeOut:i.V.info})}break;case"uploader-asc":try{this.searchResults.sort((n,o)=>n.source.localeCompare(o.source))}catch{this.toastr.info("","Sortiranje po uploaderju nara\u0161\u010dajo\u010de ni uspelo",{timeOut:i.V.info})}break;case"uploader-desc":try{this.searchResults.sort((n,o)=>o.source.localeCompare(n.source))}catch{this.toastr.info("","Sortiranje po uploaderju padajo\u010de ni uspelo",{timeOut:i.V.info})}break;case"date-asc":try{this.searchResults.sort((n,o)=>new Date(n.time).getTime()-new Date(o.time).getTime())}catch{this.toastr.info("","Sortiranje po datumu nara\u0161\u010dajo\u010de ni uspelo",{timeOut:i.V.info})}break;case"date-desc":try{this.searchResults.sort((n,o)=>new Date(o.time).getTime()-new Date(n.time).getTime())}catch{this.toastr.info("","Sortiranje po datumu padajo\u010de ni uspelo",{timeOut:i.V.info})}break;case"seed-asc":try{this.searchResults.sort((n,o)=>n.seeds-o.seeds)}catch{this.toastr.info("","Sortiranje po sejalcih nara\u0161\u010dajo\u010de ni uspelo",{timeOut:i.V.info})}break;case"seed-desc":try{this.searchResults.sort((n,o)=>o.seeds-n.seeds)}catch{this.toastr.info("","Sortiranje po sejalcih padajo\u010de ni uspelo",{timeOut:i.V.info})}break;case"peer-asc":try{this.searchResults.sort((n,o)=>n.peers-o.peers)}catch{this.toastr.info("","Sortiranje po peer nara\u0161\u010dajo\u010de ni uspelo",{timeOut:i.V.info})}break;case"peer-desc":try{this.searchResults.sort((n,o)=>o.peers-n.peers)}catch{this.toastr.info("","Sortiranje po peer padajo\u010de ni uspelo",{timeOut:i.V.info})}break;case"size-asc":try{this.searchResults.sort((n,o)=>this.parseSize(n.size)-this.parseSize(o.size))}catch{this.toastr.info("","Sortiranje po velikosti nara\u0161\u010dajo\u010de ni uspelo",{timeOut:i.V.info})}break;case"size-desc":try{this.searchResults.sort((n,o)=>{const a=this.parseSize(n.size);return this.parseSize(o.size)-a})}catch{this.toastr.info("","Sortiranje po velikosti padajo\u010de ni uspelo",{timeOut:i.V.info})}}}sortRowColumnClick(e){switch(this.sortService.changeSort(this.sort),e){case"name":this.sort="name-asc"==this.sort?"name-desc":"name-asc",this.sortResults(this.sort);break;case"uploader":this.sort="uploader-asc"==this.sort?"uploader-desc":"uploader-asc",this.sortResults(this.sort);break;case"size":this.sort="size-asc"==this.sort?"size-desc":"size-asc",this.sortResults(this.sort);break;case"se":this.sort="seed-asc"==this.sort?"seed-desc":"seed-asc",this.sortResults(this.sort);break;case"pe":this.sort="peer-asc"==this.sort?"peer-desc":"peer-asc",this.sortResults(this.sort)}}toggleRow(e){e.expanded=!e.expanded}getUploaderUrl(e){switch(e.source){case"thePirateBay":return"https://thepiratebay.org/";case"yts":return"https://yts.mx/";case"torrentProject":return"https://en.wikipedia.org/wiki/Torrent_Project";default:return v.N.appBase}}displaySePe(e){return!e||"-"==e||"/"==e||isNaN(parseInt(e))?"?":e}displayTime(e){try{return this.datePipe.transform(e,"d.M.y")||"?"}catch{return"?"}}copy(e,n,o){e.stopPropagation(),navigator.clipboard.writeText(o);const a=n.querySelector("p");n.style.backgroundColor="#639bc3",a?(a.textContent=this.copyText,a.textContent=this.copyHighlightText,setTimeout(()=>{n.style.backgroundColor="",a.textContent=this.copyText},1e3)):setTimeout(()=>{n.style.backgroundColor=""},1e3)}download(e,n){e.stopPropagation(),window.open(n,"_blank")}parseSize(e){const n=e.split(" "),o=parseFloat(n[0]);let c=1;switch(n[1].toUpperCase()){case"KB":c=1024;break;case"MB":c=1048576;break;case"GB":c=1073741824;break;case"TB":c=1099511627776;break;case"PB":c=0x4000000000000}return o*c}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(g.gz),t.Y36(_.o),t.Y36(m._W),t.Y36(f.e),t.Y36(C),t.Y36(d.uU))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-search-results"]],decls:6,vars:5,consts:[[1,"row"],["class","row",4,"ngIf"],["class","row search-results mb-4",4,"ngIf"],["class","loading-spinner mb-4",4,"ngIf"],["class","no-results mb-4",4,"ngIf"],[1,"row","search-results","mb-4"],[1,"dark-table"],["scope","col",1,"no-select",3,"click"],["scope","col",1,"text-center","no-select",3,"click"],["scope","col","title","Seeds",1,"text-center","no-select",3,"click"],["scope","col","title","Peers",1,"text-center","no-select",3,"click"],[4,"ngFor","ngForOf"],[3,"title","click",4,"ngIf"],[3,"title","click"],[1,"d-flex","align-items-center"],["src","assets/images/logo.png","width","50",3,"alt",4,"ngIf"],["src","assets/images/no-image.png","width","50","class","mr-2 p-2",3,"alt",4,"ngIf"],["src","assets/images/tpb.png","width","50",3,"alt",4,"ngIf"],["src","assets/images/yts.png","width","50",3,"alt",4,"ngIf"],["src","assets/images/torrentproject.png","width","50",3,"alt",4,"ngIf"],[1,"title-container"],[3,"ngClass"],["target","_blank",3,"href"],["src","assets/images/logo.png","width","50",3,"alt"],["src","assets/images/no-image.png","width","50",1,"mr-2","p-2",3,"alt"],["src","assets/images/tpb.png","width","50",3,"alt"],["src","assets/images/yts.png","width","50",3,"alt"],["src","assets/images/torrentproject.png","width","50",3,"alt"],["colspan","5",1,"m-0","p-0"],[1,"expanded-info"],[1,"d-flex","justify-content-between","align-items-center"],[1,"d-flex","align-items-center","w-100"],["src","assets/images/tpb.png","width","100","class","mr-3",3,"alt",4,"ngIf"],["src","assets/images/yts.png","width","100","class","mr-3",3,"alt",4,"ngIf"],["src","assets/images/torrentproject.png","width","100","class","mr-3",3,"alt",4,"ngIf"],[1,"w-100","title-container"],[1,"expanded-details-container","d-flex","justify-content-between","align-items-center"],[1,"expanded-details"],[1,"buttons-container"],["title","Kopiraj magnet link",1,"action-button","copy-button",3,"click"],["copyButton",""],["src","assets/images/copy.png","alt","Kopiraj magnet link"],["title","Potegni ga!",1,"action-button","download-button",3,"click"],["downloadButton",""],["src","assets/images/download-green.png","alt","Potegni ga!"],["src","assets/images/tpb.png","width","100",1,"mr-3",3,"alt"],["src","assets/images/yts.png","width","100",1,"mr-3",3,"alt"],["src","assets/images/torrentproject.png","width","100",1,"mr-3",3,"alt"],[1,"loading-spinner","mb-4"],[1,"no-results","mb-4"]],template:function(e,n){1&e&&(t._UZ(0,"app-search-bar-search",0),t.YNc(1,A,1,0,"app-about-results",1),t.YNc(2,F,16,1,"div",2),t.YNc(3,G,2,0,"div",3),t.YNc(4,L,3,0,"div",4),t.YNc(5,D,3,0,"div",4)),2&e&&(t.xp6(1),t.Q6J("ngIf",n.searchResults.length>0),t.xp6(1),t.Q6J("ngIf",n.searchResults.length>0),t.xp6(1),t.Q6J("ngIf",n.displayLoadingSpinner),t.xp6(1),t.Q6J("ngIf",n.noResults),t.xp6(1),t.Q6J("ngIf",n.missingQuery))},dependencies:[d.mk,d.sg,d.O5,P.g,w,S,T],styles:[".search-results[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.loading-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100%}.no-results[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100%;padding:0;margin:25px auto}.no-results[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{padding:0;margin:0}.dark-table[_ngcontent-%COMP%]{color:#fff;width:100%;margin:auto;border-collapse:collapse}.title-container[_ngcontent-%COMP%]{margin-left:10px}table.dark-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{width:65%;max-width:600px;word-break:break-word}table.dark-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:red}table.dark-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2), table.dark-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(3){text-align:center;width:15%}table.dark-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(4), table.dark-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(5){width:5%;text-align:center}.dark-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#121212;color:var(--white);border:none;padding:10px}.dark-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:hover{color:#d3d3d3;cursor:pointer}.dark-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .dark-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background-color:#5d5d5d;color:#fff}.dark-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:first-child   td[_ngcontent-%COMP%]:first-child{border-top-left-radius:var(--border-radius)}.dark-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:first-child   td[_ngcontent-%COMP%]:last-child{border-top-right-radius:var(--border-radius)}.dark-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:first-child{border-bottom-left-radius:var(--border-radius)}.dark-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:last-child{border-bottom-right-radius:var(--border-radius)}.dark-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px}.dark-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:not(.expanded):hover   td[_ngcontent-%COMP%]{cursor:pointer;background-color:#515151}.expanded-info[_ngcontent-%COMP%]{width:100%;background-color:#515151;padding:1rem}.expanded-details-container[_ngcontent-%COMP%]{margin:10px 0}.expanded-details[_ngcontent-%COMP%]{margin:0 10px;text-align:center}.expanded-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-child{font-size:small}.expanded-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-child{font-size:large;margin:0}a[_ngcontent-%COMP%]{text-decoration:none}.native[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--white)}.native[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#d3d3d3;text-decoration:underline}.tpb[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--tpb-color)!important}.tpb[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--tpb-color-hover)!important;text-decoration:underline}.yts[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--yts-color)!important}.yts[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--yts-color-hover)!important;text-decoration:underline}.torrentproject[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--torrent-project-color)!important}.torrentproject[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--torrent-project-color-hover)!important;text-decoration:underline}.buttons-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin:10px 0}.action-button[_ngcontent-%COMP%]{transition:background-color .2s ease-in-out;display:flex;justify-content:space-around;align-items:center;width:150px;margin:5px;padding:7px;background-color:#515151;border:none;box-shadow:0 4px 4px #00000040;border-radius:var(--border-radius);color:var(--white);font-weight:700}.action-button[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{flex-basis:70%;margin:0;padding:0;transition:color .2s ease-in-out;text-align:center}.action-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{flex-basis:30%;padding:3px;width:40px}.action-button[_ngcontent-%COMP%]:hover{background-color:#333}.no-select[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}"]}),r})()}];let $=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[g.Bz.forChild(K),g.Bz]}),r})(),H=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({providers:[d.uU],imports:[d.ez,b.m,$]}),r})()}}]);